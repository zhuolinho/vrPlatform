(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{GuOy:function(a,t,e){a.exports={iconGroup:"antd-pro-pages-statistics-analysis-iconGroup",rankingList:"antd-pro-pages-statistics-analysis-rankingList",rankingItemNumber:"antd-pro-pages-statistics-analysis-rankingItemNumber",active:"antd-pro-pages-statistics-analysis-active",rankingItemTitle:"antd-pro-pages-statistics-analysis-rankingItemTitle",salesExtra:"antd-pro-pages-statistics-analysis-salesExtra",currentDate:"antd-pro-pages-statistics-analysis-currentDate",salesCard:"antd-pro-pages-statistics-analysis-salesCard",salesBar:"antd-pro-pages-statistics-analysis-salesBar",salesRank:"antd-pro-pages-statistics-analysis-salesRank",salesCardExtra:"antd-pro-pages-statistics-analysis-salesCardExtra",salesTypeRadio:"antd-pro-pages-statistics-analysis-salesTypeRadio",offlineCard:"antd-pro-pages-statistics-analysis-offlineCard",twoColLayout:"antd-pro-pages-statistics-analysis-twoColLayout",trendText:"antd-pro-pages-statistics-analysis-trendText",rankingTitle:"antd-pro-pages-statistics-analysis-rankingTitle",salesExtraWrap:"antd-pro-pages-statistics-analysis-salesExtraWrap"}},hPyv:function(a,t,e){"use strict";e.r(t);var n,s,i,r=e("2Taf"),c=e.n(r),o=e("vZ4D"),l=e.n(o),p=e("l4Ni"),u=e.n(p),d=e("ujKo"),h=e.n(d),g=e("MhPg"),y=e.n(g),f=e("q1tI"),m=e.n(f),v=e("MuoO"),k=e("wd/R"),D=e.n(k),b=e("lh+i"),w=e.n(b),P=function(a){function t(){return c()(this,t),u()(this,h()(t).apply(this,arguments))}return y()(t,a),l()(t,[{key:"render",value:function(){var a=this.props,t=a.contentWidth,e=a.children,n="".concat(w.a.main);return"Fixed"===t&&(n="".concat(w.a.main," ").concat(w.a.wide)),m.a.createElement("div",{className:n},e)}}]),t}(f["PureComponent"]),x=Object(v["connect"])(function(a){var t=a.setting;return{contentWidth:t.contentWidth}})(P),C=e("+n12"),E=e("GuOy"),O=e.n(E),S=e("xqX8"),R=m.a.lazy(function(){return Promise.all([e.e(0),e.e(16)]).then(e.bind(null,"OVfm"))}),T=m.a.lazy(function(){return Promise.all([e.e(0),e.e(17)]).then(e.bind(null,"6KMz"))}),M=(n=Object(v["connect"])(function(a){var t=a.chart,e=a.loading;return{chart:t,loading:e.effects["chart/fetch"]}}),n((i=function(a){function t(){var a,e;c()(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return e=u()(this,(a=h()(t)).call.apply(a,[this].concat(s))),e.state={rangePickerValue:Object(C["b"])("week")},e.handleRangePickerChange=function(a){var t=e.props.dispatch;e.setState({rangePickerValue:a}),t({type:"chart/fetchSalesData",payload:a})},e.selectDate=function(a){var t=e.props.dispatch,n=Object(C["b"])(a);e.setState({rangePickerValue:n}),t({type:"chart/fetchSalesData",payload:n})},e.isActive=function(a){var t=e.state.rangePickerValue,n=Object(C["b"])(a);return t[0]&&t[1]&&t[0].isSame(n[0],"day")&&t[1].isSame(n[1],"day")?O.a.currentDate:""},e}return y()(t,a),l()(t,[{key:"componentDidMount",value:function(){var a=this.props.dispatch,t=this.state.rangePickerValue;this.reqRef=requestAnimationFrame(function(){a({type:"chart/fetch"}),a({type:"chart/fetchSalesData",payload:t})})}},{key:"componentWillUnmount",value:function(){var a=this.props.dispatch;a({type:"chart/clear"}),cancelAnimationFrame(this.reqRef),clearTimeout(this.timeoutId)}},{key:"render",value:function(){for(var a=this.state.rangePickerValue,t=this.props,e=t.loading,n=t.chart,s=n.visitData,i=n.salesData,r={visit:[],vr:[]},c=D()(a[0]);c<a[1];c.add(1,"d"))i&&i.visit&&r.visit.push({x:c.format("YYYY-MM-DD"),y:i.visit[c.toJSON()]?i.visit[c.toJSON()].count:0}),i&&i.vr&&r.vr.push({x:c.format("YYYY-MM-DD"),y:i.vr[c.toJSON()]?i.vr[c.toJSON()].count:0});return m.a.createElement(x,null,m.a.createElement(f["Suspense"],{fallback:m.a.createElement(S["default"],null)},m.a.createElement(R,{loading:e,visitData:s||{}})),m.a.createElement(f["Suspense"],{fallback:null},m.a.createElement(T,{rangePickerValue:a,salesData:r,isActive:this.isActive,handleRangePickerChange:this.handleRangePickerChange,loading:e,selectDate:this.selectDate})))}}]),t}(f["Component"]),s=i))||s);t["default"]=M},"lh+i":function(a,t,e){a.exports={main:"antd-pro-components-page-header-wrapper-grid-content-main",wide:"antd-pro-components-page-header-wrapper-grid-content-wide"}}}]);